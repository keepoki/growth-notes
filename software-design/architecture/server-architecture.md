---
tags:
  - Architecture
  - Server
title: Server Architecture
---

서버 아키텍처 패턴은 서비스 성격(규모, 복잡도, 변경 주기, 트래픽 패턴 등)에 따라 여러 가지 접근 방식이 있습니다.

## 1. 계층형 아키텍처 (Layered Architecture, n-tier)

- **설명**: 가장 전통적인 방식. UI → 비즈니스 로직 → 데이터 접근 → DB 등 계층을 나눠 개발.
- **예시**: MVC(Model-View-Controller), NestJS 기본 구조, Spring Boot 3-layer 구조
- **장점**: 단순, 이해하기 쉬움, 빠른 개발 가능
- **단점**: 복잡한 비즈니스 로직에서는 Service 계층이 비대해짐 (빈약한 도메인 모델 문제)

## 2. 이벤트 기반 아키텍처 (Event-Driven Architecture)

- **설명**: 이벤트를 중심으로 컴포넌트가 느슨하게 결합. 비동기 메시징(Queue, Kafka 등) 활용.
- **예시**: 주문 완료 → 결제 이벤트 발생 → 배송 서비스가 이벤트 수신 후 처리
- **장점**: 확장성과 유연성 높음, 비동기 처리에 강함
- **단점**: 이벤트 흐름 추적 어려움, 디버깅 복잡

## 3. 마이크로서비스 아키텍처 (Microservices)

- **설명**: 애플리케이션을 여러 개의 독립적인 서비스로 분리. 각 서비스는 자체 DB/배포 단위 가짐.
- **예시**: `주문 서비스`, `결제 서비스`, `배송 서비스`를 각각 분리
- **장점**: 독립적 배포, 확장성, 팀 단위 개발 용이
- **단점**: 복잡한 인프라 필요, 분산 트랜잭션 문제

## 4. 서버리스 아키텍처 (Serverless / Function as a Service)

- **설명**: 서버 관리 없이 클라우드 함수(AWS Lambda, GCP Cloud Functions) 단위로 실행.
- **예시**: 사용자가 파일 업로드 → Lambda가 썸네일 생성 후 S3 저장
- **장점**: 인프라 관리 불필요, 사용량 기반 비용 청구
- **단점**: 장기 실행/고성능 처리에 불리, 콜드 스타트 문제

## 5. 클린 아키텍처 (Clean Architecture)

- **설명**: 로버트 마틴(Uncle Bob) 제안. 핵심은 **의존성 역전**.

  - 안쪽(도메인)이 바깥쪽(인프라)에 의존하지 않음
  - 비즈니스 규칙은 언제나 독립적
- **구성**: `Entity` → `Use Case` → `Interface Adapter` → `Frameworks`
- **장점**: 유지보수성과 테스트 용이성 높음
- **단점**: 러닝커브, 초기 설계 복잡

## 6. 헥사고날 아키텍처 (Hexagonal, Ports & Adapters)

- **설명**: 클린 아키텍처와 유사. 도메인을 중심에 두고, 외부와 연결되는 부분(DB, API 등)은 **Port/Adapter** 패턴으로 추상화.
- **장점**: 테스트 용이, 기술 스택 교체 용이
- **단점**: 초기 설계 비용 높음

## 7. CQRS (Command Query Responsibility Segregation)

- **설명**: 데이터 변경(Command)과 조회(Query)를 분리하는 패턴.
- **예시**: 쓰기 전용 DB, 읽기 전용 DB 따로 운영 → 성능 극대화
- **장점**: 고성능 읽기 처리, 복잡한 도메인에서 확장성 ↑
- **단점**: 데이터 동기화 복잡성

## 8. 이벤트 소싱 (Event Sourcing)

- **설명**: 시스템 상태를 "이벤트의 연속"으로 저장.
- **예시**: “계좌 입금 1000원”, “출금 500원” → 최종 잔액은 이벤트 합산으로 계산
- **장점**: 과거 상태 재현 가능, 감사/추적에 유리
- **단점**: 구현 난이도 ↑, 이벤트 스토어 필요

## 정리

| 패턴       | 특징             | 언제 쓰면 좋은가                     |
| -------- | -------------- | ----------------------------- |
| 계층형 아키텍처 | 단순, CRUD 중심    | 소규모 서비스, 빠른 개발                |
| 이벤트 기반   | 비동기, 느슨한 결합    | 실시간 알림, 고확장성 시스템              |
| 마이크로서비스  | 서비스 분리, 독립 배포  | 대규모 조직, 서비스 복잡도 ↑             |
| 서버리스     | 함수 단위 실행       | 트래픽 변동 심한 서비스, 관리 부담 줄이고 싶을 때 |
| 클린/헥사고날  | 도메인 중심, 의존성 역전 | 복잡한 비즈니스 로직, 장기 유지보수 필요할 때    |
| CQRS     | 읽기/쓰기 분리       | 조회 성능 중요한 서비스                 |
| 이벤트 소싱   | 이벤트 단위 저장      | 금융, 로깅, 이벤트 추적 필요 서비스         |

## 관련 개념

- [[layered]]: 전통적인 계층형 아키텍처
- [[event-driven]]: 이벤트 기반 아키텍처
- [[microservices]]: 마이크로서비스 아키텍처
- [[clean-architecture]]: 클린 아키텍처
- [[hexagonal]]: 헥사고날 아키텍처
- [[cqrs-(command-query-responsibility-segregation)]]: CQRS 패턴
- [[event-sourcing]]: 이벤트 소싱 패턴
